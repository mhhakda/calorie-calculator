<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Calorie Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <h1>Smart Calorie Calculator</h1>
                <p>Get personalized nutrition recommendations based on your lifestyle</p>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span id="currentStep">1</span> of <span id="totalSteps">11</span>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Welcome Screen -->
                <div class="form-step active" id="step-0">
                    <div class="card">
                        <div class="card__body">
                            <h2>Welcome to Your Personal Calorie Calculator</h2>
                            <p>This comprehensive tool will help you determine your daily calorie needs and provide personalized nutrition recommendations based on your goals, lifestyle, and health metrics.</p>
                            <p>We'll ask you 11 quick questions to create a customized plan just for you.</p>
                            <button class="btn btn--primary btn--lg" onclick="nextStep()">Get Started</button>
                        </div>
                    </div>
                </div>

                <!-- Step 1: Age -->
                <div class="form-step" id="step-1">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your age?</h2>
                            <div class="form-group">
                                <input type="number" id="age" class="form-control" min="15" max="100" placeholder="Enter your age" required>
                                <div class="error-message" id="age-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Gender -->
                <div class="form-step" id="step-2">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your gender?</h2>
                            <div class="form-group">
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="gender" value="male" required>
                                        <span class="radio-text">Male</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="gender" value="female" required>
                                        <span class="radio-text">Female</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="gender" value="other" required>
                                        <span class="radio-text">Other</span>
                                    </label>
                                </div>
                                <div class="error-message" id="gender-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Height -->
                <div class="form-step" id="step-3">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your height?</h2>
                            <div class="form-group">
                                <div class="unit-toggle">
                                    <button type="button" class="unit-btn active" data-unit="cm">cm</button>
                                    <button type="button" class="unit-btn" data-unit="ft">ft & in</button>
                                </div>
                                <div class="height-inputs">
                                    <div class="height-cm active">
                                        <input type="number" id="height-cm" class="form-control" min="120" max="250" placeholder="Height in cm">
                                    </div>
                                    <div class="height-ft">
                                        <div class="flex gap-8">
                                            <input type="number" id="height-ft" class="form-control" min="3" max="8" placeholder="ft">
                                            <input type="number" id="height-in" class="form-control" min="0" max="11" placeholder="in">
                                        </div>
                                    </div>
                                </div>
                                <div class="error-message" id="height-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Weight -->
                <div class="form-step" id="step-4">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your weight?</h2>
                            <div class="form-group">
                                <div class="unit-toggle">
                                    <button type="button" class="unit-btn active" data-unit="kg">kg</button>
                                    <button type="button" class="unit-btn" data-unit="lbs">lbs</button>
                                </div>
                                <div class="weight-inputs">
                                    <div class="weight-kg active">
                                        <input type="number" id="weight-kg" class="form-control" min="30" max="300" step="0.1" placeholder="Weight in kg">
                                    </div>
                                    <div class="weight-lbs">
                                        <input type="number" id="weight-lbs" class="form-control" min="66" max="660" step="0.1" placeholder="Weight in lbs">
                                    </div>
                                </div>
                                <div class="error-message" id="weight-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 5: Goal -->
                <div class="form-step" id="step-5">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your primary goal?</h2>
                            <div class="form-group">
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="goal" value="lose" required>
                                        <span class="radio-text">Lose Weight</span>
                                        <span class="radio-description">Create a caloric deficit for weight loss</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="goal" value="maintain" required>
                                        <span class="radio-text">Maintain Weight</span>
                                        <span class="radio-description">Keep your current weight</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="goal" value="gain" required>
                                        <span class="radio-text">Gain Muscle/Bulk</span>
                                        <span class="radio-description">Build muscle and increase weight</span>
                                    </label>
                                </div>
                                <div class="error-message" id="goal-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 6: Activity Level -->
                <div class="form-step" id="step-6">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your activity level?</h2>
                            <div class="form-group">
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="activity" value="sedentary" required>
                                        <span class="radio-text">Sedentary</span>
                                        <span class="radio-description">Little or no exercise</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="activity" value="lightly_active" required>
                                        <span class="radio-text">Lightly Active</span>
                                        <span class="radio-description">Light exercise/sports 1-3 days/week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="activity" value="moderately_active" required>
                                        <span class="radio-text">Moderately Active</span>
                                        <span class="radio-description">Moderate exercise/sports 3-5 days/week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="activity" value="very_active" required>
                                        <span class="radio-text">Very Active</span>
                                        <span class="radio-description">Hard exercise/sports 6-7 days/week</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="activity" value="super_active" required>
                                        <span class="radio-text">Super Active</span>
                                        <span class="radio-description">Very hard exercise & physical job</span>
                                    </label>
                                </div>
                                <div class="error-message" id="activity-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 7: Body Fat % (Optional) -->
                <div class="form-step" id="step-7">
                    <div class="card">
                        <div class="card__body">
                            <h2>Body Fat Percentage <span class="optional-tag">(Optional)</span></h2>
                            <p>This helps provide more accurate calorie calculations using the Katch-McArdle formula.</p>
                            <div class="form-group">
                                <input type="number" id="bodyfat" class="form-control" min="5" max="50" step="0.1" placeholder="Body fat percentage (5-50%)">
                                <div class="error-message" id="bodyfat-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--secondary" onclick="skipBodyFat()">Skip</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 8: Waist Measurement -->
                <div class="form-step" id="step-8">
                    <div class="card">
                        <div class="card__body">
                            <h2>Waist Measurement</h2>
                            <p>Measure at the narrowest part of your waist, usually just above the belly button.</p>
                            <div class="form-group">
                                <div class="waist-input">
                                    <input type="number" id="waist" class="form-control" min="50" max="200" step="0.1" placeholder="Waist measurement" required>
                                    <span class="unit-label" id="waist-unit">cm</span>
                                </div>
                                <div class="error-message" id="waist-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 9: Work Type -->
                <div class="form-step" id="step-9">
                    <div class="card">
                        <div class="card__body">
                            <h2>What type of work do you do?</h2>
                            <div class="form-group">
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="worktype" value="desk" required>
                                        <span class="radio-text">Desk Job</span>
                                        <span class="radio-description">Mostly sitting, computer work</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="worktype" value="field" required>
                                        <span class="radio-text">Field Work</span>
                                        <span class="radio-description">Physical, outdoor, or manual labor</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="worktype" value="mixed" required>
                                        <span class="radio-text">Mixed</span>
                                        <span class="radio-description">Combination of desk and physical work</span>
                                    </label>
                                </div>
                                <div class="error-message" id="worktype-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 10: Sleep Hours -->
                <div class="form-step" id="step-10">
                    <div class="card">
                        <div class="card__body">
                            <h2>Average sleep hours per day?</h2>
                            <div class="form-group">
                                <input type="number" id="sleep" class="form-control" min="4" max="12" step="0.5" placeholder="Hours of sleep per night" required>
                                <div class="error-message" id="sleep-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary" onclick="nextStep()">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 11: Stress Level -->
                <div class="form-step" id="step-11">
                    <div class="card">
                        <div class="card__body">
                            <h2>What's your stress level?</h2>
                            <div class="form-group">
                                <div class="radio-group">
                                    <label class="radio-option">
                                        <input type="radio" name="stress" value="low" required>
                                        <span class="radio-text">Low</span>
                                        <span class="radio-description">Generally relaxed, well-managed stress</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="stress" value="medium" required>
                                        <span class="radio-text">Medium</span>
                                        <span class="radio-description">Moderate stress levels</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="stress" value="high" required>
                                        <span class="radio-text">High</span>
                                        <span class="radio-description">High stress, often overwhelmed</span>
                                    </label>
                                </div>
                                <div class="error-message" id="stress-error"></div>
                            </div>
                            <div class="form-navigation">
                                <button class="btn btn--outline" onclick="prevStep()">Back</button>
                                <button class="btn btn--primary btn--lg" onclick="calculateResults()">Calculate My Results</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Section -->
                <div class="results-section hidden" id="results">
                    <div class="results-header">
                        <h2>Your Personalized Results</h2>
                        <p>Based on your inputs, here are your customized nutrition recommendations</p>
                    </div>

                    <div class="results-grid">
                        <!-- Calorie Results -->
                        <div class="result-card">
                            <h3>Daily Calorie Needs</h3>
                            <div class="result-value" id="maintenance-calories">0</div>
                            <div class="result-label">Calories to maintain weight</div>
                        </div>

                        <div class="result-card">
                            <h3>Goal Calories</h3>
                            <div class="result-value" id="goal-calories">0</div>
                            <div class="result-label" id="goal-label">For your goal</div>
                        </div>

                        <!-- Macronutrients -->
                        <div class="result-card macro-card">
                            <h3>Macronutrient Breakdown</h3>
                            <div class="macro-breakdown">
                                <div class="macro-item">
                                    <span class="macro-name">Protein</span>
                                    <span class="macro-grams" id="protein-grams">0g</span>
                                    <span class="macro-percent" id="protein-percent">0%</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-name">Carbs</span>
                                    <span class="macro-grams" id="carbs-grams">0g</span>
                                    <span class="macro-percent" id="carbs-percent">0%</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-name">Fat</span>
                                    <span class="macro-grams" id="fat-grams">0g</span>
                                    <span class="macro-percent" id="fat-percent">0%</span>
                                </div>
                            </div>
                        </div>

                        <!-- Health Metrics -->
                        <div class="result-card">
                            <h3>BMI Index</h3>
                            <div class="result-value" id="bmi-value">0</div>
                            <div class="result-status" id="bmi-status">Normal</div>
                        </div>

                        <div class="result-card">
                            <h3>Waist-to-Height Ratio</h3>
                            <div class="result-value" id="whr-value">0.00</div>
                            <div class="result-status" id="whr-status">Healthy</div>
                        </div>

                        <div class="result-card body-fat-card">
                            <h3>Body Fat Percentage</h3>
                            <div class="result-value" id="bodyfat-display">0%</div>
                            <div class="result-label">As provided</div>
                        </div>

                        <!-- Recommendations -->
                        <div class="result-card recommendation-card">
                            <h3>Weight Change Recommendation</h3>
                            <div class="result-text" id="weight-recommendation">Safe weekly target</div>
                        </div>

                        <div class="result-card lifestyle-card">
                            <h3>Lifestyle Tip</h3>
                            <div class="result-text" id="lifestyle-tip">Personalized advice based on your inputs</div>
                        </div>
                    </div>

                    <div class="results-actions">
                        <button class="btn btn--outline" onclick="resetCalculator()">Start Over</button>
                      <button id="downloadResultsPdf" class="btn btn--outline" disabled>
  Download Results (PDF)
</button>


                    </div>
                </div>
            </div>
        </main>
    </div>

 <!-- PDF library -->
<script defer src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<!-- your scripts (make sure this loads after the PDF lib) -->
<script src="app.js"></script>
</body>
</html>
